% File 'bw-perfect-test'
% A query in the blocks world with blocks a, b, c

:- include 'bw-perfect'.

:- objects
  a,b,c                 :: block.

:- nmquery

% Find all states in which the blocks form a single tower

 maxstep :: 0;
 anyFluentValues;

 constraint 0:
  loc(B)=table && loc(B1)=table ->> B=B1.


/*
| ?- loadf 'bw-perfect-test'.
% loading file /stage/projects3/tag/ccalc/macros.std
% loading file /stage/projects3/tag/ccalc/examples/bw-perfect-test
% loading file /stage/projects3/tag/ccalc/examples/bw-perfect
% loading file /stage/projects3/tag/ccalc/examples/bw-serializable
% in transition mode...
% 66 atoms, 279 rules, 360 clauses
% Grounding time: 0.33 seconds
% Completion time: 0.09 seconds
yes
| ?- set(num,all).

yes
| ?- nmquery 0.
% Shifted theory: 24 atoms (incl. auxiliary atoms), 120 clauses, 0.1 seconds
% Calling mChaff... 
% Solution time: 0.01 seconds (prep 0.0 seconds, search 0.01 seconds)  


Solution 1:

0:  loc(a)=b  loc(b)=table  loc(c)=a  above(a,table)  above(a,b)  above(b,table)  above(c,table)  above(c,a)  above(c,b) 


Solution 2:

0:  loc(a)=b  loc(b)=c  loc(c)=table  above(a,table)  above(a,b)  above(a,c)  above(b,table)  above(b,c)  above(c,table) 


Solution 3:

0:  loc(a)=table  loc(b)=c  loc(c)=a  above(a,table)  above(b,table)  above(b,a)  above(b,c)  above(c,table)  above(c,a) 


Solution 4:

0:  loc(a)=c  loc(b)=a  loc(c)=table  above(a,table)  above(a,c)  above(b,table)  above(b,a)  above(b,c)  above(c,table) 


Solution 5:

0:  loc(a)=table  loc(b)=a  loc(c)=b  above(a,table)  above(b,table)  above(b,a)  above(c,table)  above(c,a)  above(c,b) 


Solution 6:

0:  loc(a)=c  loc(b)=table  loc(c)=b  above(a,table)  above(a,b)  above(a,c)  above(b,table)  above(c,table)  above(c,b) 
yes
| ?- 
*/
