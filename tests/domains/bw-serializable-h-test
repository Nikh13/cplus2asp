% File 'bw-serializable-h-test'
% A query about histories of length 1 in the blocks world
%  with blocks a,b,c,d

:- maxstep ::  1.

:- include 'domains/bw-serializable'.

:- objects
  a,b,c,d                       :: block.

:- nmquery

% Find the result of moving block a to the table in the state
%
%    a   c   
%    b   d   
%  --------- 

 anyFluentValues;
 constraint 0:
  loc(a)=b,
  loc(b)=table,
  loc(c)=d,
  loc(d)=table;
 cwaActions;
 0: move(a);
 always 0:
  (destination(a)=table).

/*
| ?- loadf('bw-serializable-h-test').
% loading file /stage/projects3/tag/ccalc/macros.std
% loading file /stage/projects3/tag/ccalc/examples/bw-serializable-h-test
% loading file /stage/projects3/tag/ccalc/history.std
% loading file /stage/projects3/tag/ccalc/examples/bw-serializable
% in history mode...
% 68 atoms, 280 rules, 364 clauses
% Grounding time: 0.49 seconds
% Completion time: 0.1 seconds
yes
| ?- nmquery 0.

% Calling mChaff... 
% Solution time: 0.01 seconds (prep 0.0 seconds, search 0.01 seconds)  

0:  loc(a)=b  loc(b)=table  loc(c)=d  loc(d)=table 

ACTIONS:  move(a,destination:table)  

1:  loc(a)=table  loc(b)=table  loc(c)=d  loc(d)=table 
yes
| ?- 
*/
